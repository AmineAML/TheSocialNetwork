(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{WJqR:function(e,t,o){"use strict";o.r(t),o.d(t,"EditProfileModule",function(){return K});var i=o("ofXK"),a=o("tyNb"),r=o("mrSG"),n=o("FtGj"),l=o("3Pt+"),b=o("XNiG"),s=o("LRne"),c=o("JX91"),d=o("lJxs"),u=o("vkgz"),p=o("1G5W"),f=o("JIr8"),m=o("wHSu"),g=o("8tEE"),h=o("tk/3"),v=o("fXoL"),O=o("bvFO"),y=o("dg5o"),x=o("bv9b"),P=o("f0Cb"),w=o("d3UM"),k=o("FKr1"),C=o("A5z7"),L=o("6NWb");const I=["fruitInput"],U=["auto"],S=["fileUploadAvatar"],j=["fileUploadBackground"];function z(e,t){if(1&e){const e=v.Qb();v.Pb(0,"figure",47),v.Lb(1,"img",48),v.Pb(2,"div",49),v.Pb(3,"button",50),v.Wb("click",function(){return v.mc(e),v.ac().uploadProfileAvatar()}),v.vc(4,"Upload picture"),v.Ob(),v.Ob(),v.Lb(5,"input",51,52),v.Ob()}if(2&e){const e=v.ac();v.zb(1),v.fc("src",e.form.get("avatar").value?e.form.get("avatar").value:"./../../../assets/img/1815212332_preview_istockphoto-590147780-612x612 (1).jpg",v.oc)}}function N(e,t){if(1&e){const e=v.Qb();v.Pb(0,"figure",56),v.Lb(1,"img",57),v.Pb(2,"div",49),v.Pb(3,"button",50),v.Wb("click",function(){return v.mc(e),v.ac(3).uploadProfileBackground()}),v.vc(4,"Upload picture"),v.Ob(),v.Ob(),v.Ob()}if(2&e){const e=v.ac().$implicit;v.zb(1),v.fc("src",e.link?e.link:"./../../../assets/img/860x394.jpg",v.oc)}}function B(e,t){1&e&&(v.Pb(0,"figure",56),v.Lb(1,"img",58),v.Pb(2,"div",49),v.Pb(3,"button",59),v.vc(4,"Upload picture"),v.Ob(),v.Ob(),v.Ob())}function _(e,t){if(1&e&&(v.Nb(0),v.tc(1,N,5,1,"figure",54),v.tc(2,B,5,0,"figure",54),v.Lb(3,"input",55,52),v.Mb()),2&e){const e=t.$implicit;v.zb(1),v.fc("ngIf","background"===e.type),v.zb(1),v.fc("ngIf","avatar"!==e.type&&"background"!==e.type)}}function F(e,t){if(1&e&&(v.Nb(0),v.tc(1,_,5,2,"ng-container",53),v.Mb()),2&e){const e=v.ac();v.zb(1),v.fc("ngForOf",e.dataSource.user.image)}}function A(e,t){1&e&&(v.Nb(0),v.Pb(1,"figure",56),v.Lb(2,"img",58),v.Pb(3,"div",49),v.Pb(4,"button",59),v.vc(5,"Upload picture"),v.Ob(),v.Ob(),v.Ob(),v.Mb())}function E(e,t){if(1&e&&v.Lb(0,"fa-icon",62),2&e){const e=v.ac(2);v.fc("icon",e.faTimes)}}function q(e,t){if(1&e){const e=v.Qb();v.Pb(0,"mat-chip",60),v.Wb("removed",function(){v.mc(e);const o=t.$implicit;return v.ac().remove(o)}),v.vc(1),v.tc(2,E,1,1,"fa-icon",61),v.Ob()}if(2&e){const e=t.$implicit,o=v.ac();v.fc("selectable",o.selectable)("removable",o.removable),v.zb(1),v.xc(" ",e," "),v.zb(1),v.fc("ngIf",o.removable)}}let M=(()=>{class e{constructor(e,t,o){this.dataService=e,this.authService=t,this.formBuilder=o,this.faTimes=m.c,this.faFacebook=g.b,this.faLinkedin=g.d,this.faTwitter=g.f,this.faTiktok=g.e,this.faDiscord=g.a,this.faInstagram=g.c,this.faYoutube=g.g,this.visible=!0,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[n.g,n.c],this.interestCtrl=new l.d,this.interests=[],this.allInterests=[],this.addOnBlur=!0,this.dataSource=null,this.file={data:null,inProgress:!1,progress:0},this.ngUnsubscribe=new b.a,this.filteredInterests=this.interestCtrl.valueChanges.pipe(Object(c.a)(null),Object(d.a)(e=>e?this._filter(e):this.allInterests.slice()))}add(e){const t=e.input,o=e.value;(o||"").trim()&&this.interests.push(o.trim()),t&&(t.value=""),this.interestCtrl.setValue(null)}remove(e){const t=this.interests.indexOf(e);t>=0&&this.interests.splice(t,1)}selected(e){this.interests.push(e.option.viewValue),this.fruitInput.nativeElement.value="",this.interestCtrl.setValue(null)}_filter(e){const t=e.toLowerCase();return this.allInterests.filter(e=>0===e.toLowerCase().indexOf(t))}getUser(){return Object(r.a)(this,void 0,void 0,function*(){this.dataService.findByUsername(this.username).pipe(Object(u.a)(e=>console.log("ree"+e)),Object(d.a)(e=>{let t,o;this.dataSource=e,this.dataSource.user.image.forEach(e=>{"avatar"===e.type?t=e.link:"background"===e.type&&(o=e.link)}),this.form.patchValue({id:e.user.id,first_name:e.user.first_name,last_name:e.user.last_name,description:e.user.description,gender:e.user.gender,social_media:e.user.social_media,avatar:t,background:o}),this.interests=this.dataSource.user.interest}),Object(p.a)(this.ngUnsubscribe)).subscribe(),console.log(this.dataSource),setTimeout(()=>console.log(this.dataSource),7e3),console.log(this.username)})}update(){this.interests.forEach(e=>{this.aliases.push(this.formBuilder.control(e))}),this.dataService.updateUser(this.form.getRawValue()).pipe(Object(p.a)(this.ngUnsubscribe)).subscribe()}get aliases(){return this.form.get("interest")}addAlias(){this.aliases.push(this.formBuilder.control(""))}uploadProfileAvatar(){const e=this.fileUploadAvatar.nativeElement;e.click(),e.onchange=()=>{this.file={data:e.files[0],inProgress:!1,progress:0},this.fileUploadAvatar.nativeElement.value="",this.uploadFile("avatar")}}uploadProfileBackground(){const e=this.fileUploadBackground.nativeElement;e.click(),e.onchange=()=>{this.file={data:e.files[0],inProgress:!1,progress:0},this.fileUploadBackground.nativeElement.value="",this.uploadFile("background")}}uploadFile(e){const t=new FormData;t.append(e,this.file.data),this.file.inProgress=!0,this.dataService.uploadProfileAvatar(t).pipe(Object(d.a)(e=>{switch(e.type){case h.e.UploadProgress:this.file.progress=Math.round(100*e.loaded/e.total);break;case h.e.Response:return e}}),Object(p.a)(this.ngUnsubscribe),Object(f.a)(e=>(this.file.inProgress=!1,Object(s.a)("Upload failed")))).subscribe(t=>{"object"==typeof t&&this.form.patchValue("avatar"===e?{avatar:t.body.avatar.data.images[0].link}:{avatar:t.body.background.data.images[0].link})})}ngOnInit(){this.username=this.authService.loggedUsername,console.log("Edit profile "+this.username),this.getUser(),this.form=this.formBuilder.group({id:[{value:null,disabled:!0},[l.r.required]],first_name:[null,[l.r.required]],last_name:[null,[l.r.required]],description:[null,[l.r.required]],gender:[null,[l.r.required]],interest:this.formBuilder.array([]),social_media:this.formBuilder.group({facebook:[null,[l.r.required]],linkedin:[null,[l.r.required]],twitter:[null,[l.r.required]],tiktok:[null,[l.r.required]],discord:[null,[l.r.required]],instagram:[null,[l.r.required]],youtube:[null,[l.r.required]]}),avatar:[null],background:[null]})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(v.Kb(O.a),v.Kb(y.a),v.Kb(l.c))},e.\u0275cmp=v.Eb({type:e,selectors:[["app-edit-profile"]],viewQuery:function(e,t){if(1&e&&(v.yc(I,!0),v.yc(U,!0),v.yc(S,!0),v.yc(j,!0)),2&e){let e;v.jc(e=v.Xb())&&(t.fruitInput=e.first),v.jc(e=v.Xb())&&(t.matAutocomplete=e.first),v.jc(e=v.Xb())&&(t.fileUploadAvatar=e.first),v.jc(e=v.Xb())&&(t.fileUploadBackground=e.first)}},decls:124,vars:17,consts:[[1,"md:flex","h-full","text-amethyst","bg-bedrock"],[1,"m-auto","w-4/5","border-red-400"],[1,"p-10"],[1,"flex","text-3xl"],["class","md:flex rounded-xl p-8 w-96",4,"ngIf"],["mode","determinate",3,"value"],[4,"ngIf"],[1,"flex","text-3xl","p-10"],[1,"md:flex","justify-between","p-10","gap-x-3"],[1,"md:w-1/2",3,"formGroup","ngSubmit"],[1,"mb-7","text-xl"],["type","text","name","name","placeholder","Name","formControlName","first_name",1,"w-full","rounded","py-3","px-4","outline-none","focus:bg-indigo-200","mb-7"],["type","text","name","name","placeholder","Name","formControlName","last_name",1,"w-full","rounded","py-3","px-4","outline-none","focus:bg-indigo-200","mb-7"],["name","name","placeholder","Name","formControlName","description",1,"w-full","rounded","py-3","px-4","outline-none","focus:bg-indigo-200","mb-7"],["formControlName","gender",1,"w-full","rounded","py-4","px-4","outline-none","focus:bg-indigo-200","mb-7","mat-select-panel"],["value","none"],["value","male"],["value","female"],["value","other"],[1,"flex","mb-7"],["placeholder","Type your hobby and press enter",1,"w-full","rounded","py-3","px-4","outline-none","focus:bg-indigo-200",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],["chipList",""],["class","mt-3",3,"selectable","removable","removed",4,"ngFor","ngForOf"],["formGroupName","social_media",1,"mb-7"],[1,"flex"],["disabled","",1,"bg-gray-100","text-blue-500","border-2","rounded-l","px-4","w-1/5","btn-social-media"],[3,"icon"],["type","text","placeholder","Your facebook","formControlName","facebook",1,"rounded-r","py-3","px-4","outline-none","focus:bg-indigo-200","w-4/5","text-gray-800"],["type","text","placeholder","Your linkedin","formControlName","linkedin",1,"rounded-r","py-3","px-4","outline-none","focus:bg-indigo-200","w-4/5","text-gray-800"],["type","text","placeholder","Your twitter","formControlName","twitter",1,"rounded-r","py-3","px-4","outline-none","focus:bg-indigo-200","w-4/5","text-gray-800"],["disabled","",1,"bg-gray-100","text-gray-800","border-2","rounded-l","px-4","w-1/5","btn-social-media"],["type","text","placeholder","Your tiktok","formControlName","tiktok",1,"rounded-r","py-3","px-4","outline-none","focus:bg-indigo-200","w-4/5","text-gray-800"],["disabled","",1,"bg-gray-100","text-blue-300","border-2","rounded-l","px-4","w-1/5","btn-social-media"],["type","text","placeholder","Your discord","formControlName","discord",1,"rounded-r","py-3","px-4","outline-none","focus:bg-indigo-200","w-4/5","text-gray-800"],["disabled","",1,"bg-gray-100","text-purple-400","border-2","rounded-l","px-4","w-1/5","btn-social-media"],["type","text","placeholder","Your instagram","formControlName","instagram",1,"rounded-r","py-3","px-4","outline-none","focus:bg-indigo-200","w-4/5","text-gray-800"],["disabled","",1,"bg-gray-100","text-red-800","border-2","rounded-l","px-4","w-1/5","btn-social-media"],["type","text","placeholder","Your youtube channel","formControlName","youtube",1,"rounded-r","py-3","px-4","outline-none","focus:bg-indigo-200","w-4/5","text-gray-800"],["type","submit",1,"py-3","px-6","text-lg","bg-orange-400","text-orange-800","hover:bg-orange-300","rounded","m-auto"],[1,"md:w-1/2"],["type","password","name","name","placeholder","Current password",1,"w-full","rounded","py-3","px-4","outline-none","focus:bg-indigo-200","mb-7"],["type","password","name","name","placeholder","New password",1,"w-full","rounded","py-3","px-4","outline-none","focus:bg-indigo-200","mb-7"],["type","password","name","name","placeholder","Confirm new password",1,"w-full","rounded","py-3","px-4","outline-none","focus:bg-indigo-200","mb-7"],["href","#",1,"py-3","px-6","text-lg","bg-orange-400","text-orange-800","hover:bg-orange-300","rounded","m-auto"],[1,"flex","text-2xl"],["href","#",1,"inline-block","py-3","px-6","text-lg","bg-orange-400","text-orange-800","hover:bg-orange-300","rounded","mb-7"],["href","#",1,"inline-block","py-3","px-6","text-lg","bg-red-700","text-red-100","hover:bg-red-300","hover:text-red-700","rounded"],[1,"md:flex","rounded-xl","p-8","w-96"],["alt","Avatar",1,"w-32","h-32","rounded-full","mx-auto",3,"src"],[1,"pt-6","text-center","space-y-4","m-auto"],[1,"bg-orange-300","hover:bg-red-400","text-red-800","rounded-full","px-10","py-3",3,"click"],["type","file","id","fileUploadAvatar","name","fileUploadAvatar","accept","image/*",2,"display","none"],["fileUploadAvatar",""],[4,"ngFor","ngForOf"],["class","md:flex rounded-xl p-8 flex-col",4,"ngIf"],["type","file","id","fileUploadBackground","name","fileUploadBackground","accept","image/*",2,"display","none"],[1,"md:flex","rounded-xl","p-8","flex-col"],["alt","Background",1,"mx-auto","h-2/4",3,"src"],["src","./../../../assets//img/860x394.jpg","alt","Background",1,"mx-auto","h-2/4"],[1,"bg-orange-300","hover:bg-red-400","text-red-800","rounded-full","px-10","py-3"],[1,"mt-3",3,"selectable","removable","removed"],["matChipRemove","",3,"icon",4,"ngIf"],["matChipRemove","",3,"icon"]],template:function(e,t){if(1&e&&(v.Pb(0,"div",0),v.Pb(1,"div",1),v.Pb(2,"div",2),v.Pb(3,"h3",3),v.vc(4,"Avatar"),v.Ob(),v.tc(5,z,7,1,"figure",4),v.Lb(6,"mat-progress-bar",5),v.Lb(7,"mat-divider"),v.Ob(),v.Pb(8,"div",2),v.Pb(9,"h3",3),v.vc(10,"Background"),v.Ob(),v.tc(11,F,2,1,"ng-container",6),v.Lb(12,"mat-progress-bar",5),v.Lb(13,"mat-divider"),v.Ob(),v.tc(14,A,6,0,"ng-container",6),v.Pb(15,"div"),v.Pb(16,"h3",7),v.vc(17,"General Info"),v.Ob(),v.Pb(18,"div",8),v.Pb(19,"form",9),v.Wb("ngSubmit",function(){return t.update()}),v.Pb(20,"h3",10),v.vc(21,"Basic information"),v.Ob(),v.Pb(22,"label"),v.vc(23,"First name"),v.Ob(),v.Lb(24,"input",11),v.Pb(25,"label"),v.vc(26,"Last name"),v.Ob(),v.Lb(27,"input",12),v.Pb(28,"label"),v.vc(29,"Description"),v.Ob(),v.Lb(30,"textarea",13),v.Pb(31,"label"),v.vc(32,"Gender"),v.Ob(),v.Pb(33,"mat-select",14),v.Pb(34,"mat-option",15),v.vc(35,"None"),v.Ob(),v.Pb(36,"mat-option",16),v.vc(37,"Male"),v.Ob(),v.Pb(38,"mat-option",17),v.vc(39,"Female"),v.Ob(),v.Pb(40,"mat-option",18),v.vc(41,"Other"),v.Ob(),v.Ob(),v.Pb(42,"label"),v.vc(43,"Interests"),v.Ob(),v.Pb(44,"div",19),v.Pb(45,"input",20),v.Wb("matChipInputTokenEnd",function(e){return t.add(e)}),v.Ob(),v.Lb(46,"mat-chip-list",null,21),v.Ob(),v.tc(48,q,3,4,"mat-chip",22),v.Pb(49,"p"),v.vc(50,"Social media"),v.Ob(),v.Pb(51,"div",23),v.Pb(52,"div",24),v.Pb(53,"button",25),v.Lb(54,"fa-icon",26),v.Ob(),v.Lb(55,"input",27),v.Ob(),v.Pb(56,"div",24),v.Pb(57,"button",25),v.Lb(58,"fa-icon",26),v.Ob(),v.Lb(59,"input",28),v.Ob(),v.Pb(60,"div",24),v.Pb(61,"button",25),v.Lb(62,"fa-icon",26),v.Ob(),v.Lb(63,"input",29),v.Ob(),v.Pb(64,"div",24),v.Pb(65,"button",30),v.Lb(66,"fa-icon",26),v.Ob(),v.Lb(67,"input",31),v.Ob(),v.Pb(68,"div",24),v.Pb(69,"button",32),v.Lb(70,"fa-icon",26),v.Ob(),v.Lb(71,"input",33),v.Ob(),v.Pb(72,"div",24),v.Pb(73,"button",34),v.Lb(74,"fa-icon",26),v.Ob(),v.Lb(75,"input",35),v.Ob(),v.Pb(76,"div",24),v.Pb(77,"button",36),v.Lb(78,"fa-icon",26),v.Ob(),v.Lb(79,"input",37),v.Ob(),v.Ob(),v.Pb(80,"div",24),v.Pb(81,"button",38),v.vc(82,"Save"),v.Ob(),v.Ob(),v.Ob(),v.Pb(83,"div",39),v.Pb(84,"h3",10),v.vc(85,"Change password"),v.Ob(),v.Pb(86,"label"),v.vc(87,"Current password"),v.Ob(),v.Lb(88,"input",40),v.Pb(89,"label"),v.vc(90,"New password"),v.Ob(),v.Lb(91,"input",41),v.Pb(92,"label"),v.vc(93,"Confirm new password"),v.Ob(),v.Lb(94,"input",42),v.Pb(95,"div",24),v.Pb(96,"a",43),v.vc(97,"Update"),v.Ob(),v.Ob(),v.Ob(),v.Ob(),v.Lb(98,"mat-divider"),v.Ob(),v.Pb(99,"div",2),v.Pb(100,"h3",44),v.vc(101,"Email confirmation"),v.Ob(),v.Pb(102,"p"),v.vc(103,"Haven't you received your confirmation link, click this button to resend a new one"),v.Ob(),v.Pb(104,"a",45),v.vc(105,"Resend link"),v.Ob(),v.Lb(106,"mat-divider"),v.Ob(),v.Pb(107,"div",2),v.Pb(108,"h3",44),v.vc(109,"Request your data"),v.Ob(),v.Pb(110,"p"),v.vc(111,"You have the right to a copy of your data with us, click below and we'll prepare and email them to your inbox"),v.Ob(),v.Pb(112,"a",45),v.vc(113,"Send me a copy of my data in this platform"),v.Ob(),v.Lb(114,"mat-divider"),v.Ob(),v.Pb(115,"div",2),v.Pb(116,"h3",44),v.vc(117,"Delete your account"),v.Ob(),v.Pb(118,"p"),v.vc(119,"Once you delete your account, "),v.Pb(120,"strong"),v.vc(121,"there's no going back. Please be certain."),v.Ob(),v.Ob(),v.Pb(122,"a",46),v.vc(123,"Delete account"),v.Ob(),v.Ob(),v.Ob(),v.Ob()),2&e){const e=v.kc(47);v.zb(5),v.fc("ngIf",t.form.get("avatar").value),v.zb(1),v.fc("value",t.file.progress),v.zb(5),v.fc("ngIf",t.dataSource.user.image.length>0),v.zb(1),v.fc("value",t.file.progress),v.zb(2),v.fc("ngIf",0===t.dataSource.user.image.length),v.zb(5),v.fc("formGroup",t.form),v.zb(26),v.fc("matChipInputFor",e)("matChipInputSeparatorKeyCodes",t.separatorKeysCodes)("matChipInputAddOnBlur",t.addOnBlur),v.zb(3),v.fc("ngForOf",t.interests),v.zb(6),v.fc("icon",t.faFacebook),v.zb(4),v.fc("icon",t.faLinkedin),v.zb(4),v.fc("icon",t.faTwitter),v.zb(4),v.fc("icon",t.faTiktok),v.zb(4),v.fc("icon",t.faDiscord),v.zb(4),v.fc("icon",t.faInstagram),v.zb(4),v.fc("icon",t.faYoutube)}},directives:[i.k,x.a,P.a,l.s,l.o,l.h,l.b,l.n,l.f,w.a,k.f,C.b,C.c,i.j,l.i,L.a,C.a,C.d],styles:[".mat-select-panel[_ngcontent-%COMP%]{background:foo}.foo[_ngcontent-%COMP%]{--tw-bg-opacity:1;background-color:rgba(79,70,229,var(--tw-bg-opacity))}.mat-chip-input[_ngcontent-%COMP%]{width:100%;margin:0;flex:none}.btn-social-media[_ngcontent-%COMP%]{cursor:unset}"]}),e})();const T=[{path:"",component:M}];let Y=(()=>{class e{}return e.components=[M],e.\u0275mod=v.Ib({type:e}),e.\u0275inj=v.Hb({factory:function(t){return new(t||e)},imports:[[a.d.forChild(T)],a.d]}),e})();var G=o("Sihd");let K=(()=>{class e{}return e.\u0275mod=v.Ib({type:e}),e.\u0275inj=v.Hb({factory:function(t){return new(t||e)},imports:[[i.c,Y,G.a,L.b]]}),e})()}}]);