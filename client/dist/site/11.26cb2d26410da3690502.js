(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{AA4c:function(e,t,n){"use strict";n.r(t),n.d(t,"SearchResultModule",function(){return M});var i=n("ofXK"),s=n("tyNb"),o=n("mrSG"),a=n("3Pt+"),r=n("XNiG"),c=n("vkgz"),l=n("lJxs"),b=n("1G5W"),g=n("JX91"),u=n("bvFO"),p=n("fXoL"),f=n("/1cH"),d=n("M9IT"),h=n("FKr1"),m=n("A5z7");function v(e,t){if(1&e&&(p.Pb(0,"mat-option",21),p.vc(1),p.Ob()),2&e){const e=t.$implicit;p.fc("value",e),p.zb(1),p.xc(" ",e.name," ")}}function O(e,t){1&e&&p.vc(0,"result")}function x(e,t){1&e&&p.vc(0,"results")}function P(e,t){if(1&e&&(p.Pb(0,"span",32),p.Lb(1,"img",33),p.Ob()),2&e){const e=p.ac().$implicit;p.zb(1),p.gc("src",e.link?e.link:"../../../assets/img/united-states-avatar-organization-information-png-favpng-J9DvUE98TmbHSUqsmAgu3FpGw.jpg",p.oc)}}function y(e,t){if(1&e&&(p.Nb(0),p.tc(1,P,2,1,"span",31),p.Mb()),2&e){const e=t.$implicit;p.zb(1),p.fc("ngIf","background"!==e.type)}}function z(e,t){if(1&e&&(p.Nb(0),p.tc(1,y,2,1,"ng-container",29),p.Mb()),2&e){const e=p.ac().$implicit;p.zb(1),p.fc("ngForOf",e.image)}}function S(e,t){1&e&&(p.Nb(0),p.Pb(1,"span",32),p.Lb(2,"img",34),p.Ob(),p.Mb())}function w(e,t){if(1&e&&(p.Pb(0,"mat-chip",30),p.vc(1),p.Ob()),2&e){const e=p.ac().$implicit;p.zb(1),p.wc(e)}}function j(e,t){if(1&e&&(p.Nb(0),p.tc(1,w,2,1,"mat-chip",35),p.Mb()),2&e){const e=t.index;p.zb(1),p.fc("ngIf",e<2)}}const I=function(e){return["/profile",e]};function k(e,t){if(1&e&&(p.Pb(0,"div",22),p.Pb(1,"a",23),p.Pb(2,"span",24),p.tc(3,z,2,1,"ng-container",25),p.tc(4,S,3,0,"ng-container",25),p.Pb(5,"div",26),p.Pb(6,"div"),p.Pb(7,"div",27),p.Pb(8,"span"),p.vc(9),p.Ob(),p.Pb(10,"span"),p.vc(11),p.Ob(),p.Ob(),p.Pb(12,"div",28),p.Pb(13,"span"),p.vc(14),p.Ob(),p.Ob(),p.Pb(15,"div",28),p.Pb(16,"span"),p.vc(17),p.Ob(),p.Ob(),p.Ob(),p.Pb(18,"div"),p.Pb(19,"mat-chip-list"),p.tc(20,j,2,1,"ng-container",29),p.Pb(21,"mat-chip",30),p.vc(22),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob(),p.Ob()),2&e){const e=t.$implicit;p.zb(1),p.fc("routerLink",p.ic(9,I,e.username)),p.zb(2),p.fc("ngIf",e.image.length>0),p.zb(1),p.fc("ngIf",0===e.image.length),p.zb(5),p.xc("",e.first_name," "),p.zb(2),p.wc(e.last_name),p.zb(3),p.wc(e.username),p.zb(3),p.wc(e.gender),p.zb(3),p.fc("ngForOf",e.interest),p.zb(2),p.xc("",e.interest.length-2," more hobbies")}}const F=function(){return[5,10,25,100]};let U=(()=>{class e{constructor(e,t,n,i){this.activatedRoute=e,this.dataService=t,this.router=n,this.location=i,this.dataSource=null,this.myControl=new a.d,this.options=[],this.interestSource=null,this.ngUnsubscribe=new r.a}getUsers(){return Object(o.a)(this,void 0,void 0,function*(){this.dataService.findByQuery(this.interest,this.page,this.size).pipe(Object(c.a)(e=>console.log("ree"+e)),Object(l.a)(e=>this.dataSource=e),Object(b.a)(this.ngUnsubscribe)).subscribe(),console.log(this.dataSource),setTimeout(()=>console.log(this.dataSource),7e3),console.log(this.interest);const e=this.router.createUrlTree([],{relativeTo:this.activatedRoute,queryParams:{interest:this.interest,page:this.page,size:this.size}}).toString();this.location.go(e)})}pageEvents(e){return Object(o.a)(this,void 0,void 0,function*(){console.log("Page size: "+e.pageSize),e.pageIndex+1===this.dataSource.meta.totalPages?(this.page=this.dataSource.meta.totalPages,yield this.getUsers()):e.pageIndex+1===1?(this.page=1,yield this.getUsers()):e.pageIndex+1>this.dataSource.meta.currentPage?(this.page=this.dataSource.meta.currentPage+1,console.log("Ree "+this.page),yield this.getUsers()):(this.page=this.dataSource.meta.currentPage-1,yield this.getUsers()),e.pageSize!=this.size&&(this.page=this.dataSource.meta.currentPage,this.size=e.pageSize,console.log(this.page),console.log(this.size),yield this.getUsers()),console.log("Page number "+(e.pageIndex+1))})}displayFn(e){return e&&e.name?e.name:""}_filter(e){const t=e.toLowerCase();return this.options.filter(e=>0===e.name.toLowerCase().indexOf(t))}getInterests(){return Object(o.a)(this,void 0,void 0,function*(){this.dataService.findAllInterestsSorted().pipe(Object(c.a)(e=>console.log("ree"+e)),Object(l.a)(e=>{this.interestSource=e,this.interestSource.data.interests.forEach(e=>{this.options.push({name:e.name}),console.log(e)})}),Object(b.a)(this.ngUnsubscribe)).subscribe()})}ngOnInit(){return Object(o.a)(this,void 0,void 0,function*(){this.activatedRoute.queryParams.subscribe(e=>{this.interest=e.interest,this.page=e.page||1,this.size=e.size||10}),yield this.getUsers(),yield this.getInterests(),this.filteredOptions=this.myControl.valueChanges.pipe(Object(g.a)(""),Object(l.a)(e=>"string"==typeof e?e:e.name),Object(l.a)(e=>e?this._filter(e):this.options.slice()))})}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(p.Kb(s.a),p.Kb(u.a),p.Kb(s.b),p.Kb(i.g))},e.\u0275cmp=p.Eb({type:e,selectors:[["app-search-result"]],inputs:{paginator:"paginator"},decls:27,vars:15,consts:[[1,"h-full","flex-col","md:flex","text-amethyst","bg-bedrock"],[1,"flex","relative",2,"height","80vh"],[1,"flex","z-10","md:w-3/4"],[1,"pl-20",2,"align-self","center"],[1,"text-2xl","md:text-4xl","lg:text-6xl","text-gray-100","mb-6"],[1,"text-gray-100"],["src","./../../../assets/img/pexels-dids-1447473.jpg","alt","",1,"absolute","object-fit-cover"],[1,"gap-x-3","flex","flex-col"],[1,"md:px-40","transform","-translate-y-14"],[1,"flex"],["type","text","placeholder","Your interest here, eg drawing, hiking, basketball..",1,"w-full","rounded-l","py-3","px-4","outline-none","focus:bg-indigo-200",3,"ngModel","formControl","matAutocomplete","ngModelChange","keyup.enter"],["query",""],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"bg-red-300","hover:bg-red-400","text-red-800","rounded-r","px-4",3,"click"],[3,"ngPlural"],["ngPluralCase","=1"],["ngPluralCase","other"],["class","flex flex-col flex-wrap content-center",4,"ngFor","ngForOf"],[1,"flex","bg-transparent","mx-auto",3,"length","pageSize","pageSizeOptions","showFirstLastButtons","page"],[3,"value"],[1,"flex","flex-col","flex-wrap","content-center"],[1,"md:block","w-80",3,"routerLink"],[1,"p-2","text-amethyst","hover:text-orange-700","mr-2","flex-wrap","content-center","flex"],[4,"ngIf"],[1,"flex-grow","p-3",2,"align-self","flex-end"],[1,"font-semibold","text-gray-700"],[1,"text-sm","text-gray-500"],[4,"ngFor","ngForOf"],[1,"mt-3"],["class","rounded-full p-1 inline-block bg-yellow-500",4,"ngIf"],[1,"rounded-full","p-1","inline-block","bg-yellow-500"],["alt","Avatar",1,"w-32","h-32","rounded-full",3,"src"],["src","../../../assets/img/united-states-avatar-organization-information-png-favpng-J9DvUE98TmbHSUqsmAgu3FpGw.jpg","alt","Avatar",1,"w-32","h-32","rounded-full"],["class","mt-3",4,"ngIf"]],template:function(e,t){if(1&e&&(p.Pb(0,"div",0),p.Pb(1,"div",1),p.Pb(2,"div",2),p.Pb(3,"div",3),p.Pb(4,"h2",4),p.vc(5,"Friendships are"),p.Ob(),p.Pb(6,"p",5),p.vc(7,"formed here by people who share common hobbies."),p.Ob(),p.Ob(),p.Ob(),p.Lb(8,"img",6),p.Ob(),p.Lb(9,"br"),p.Pb(10,"div",7),p.Pb(11,"div",8),p.Pb(12,"div",9),p.Pb(13,"input",10,11),p.Wb("ngModelChange",function(e){return t.interest=e})("keyup.enter",function(){return t.getUsers()}),p.Ob(),p.Pb(15,"mat-autocomplete",12,13),p.tc(17,v,2,2,"mat-option",14),p.bc(18,"async"),p.Ob(),p.Pb(19,"button",15),p.Wb("click",function(){return t.getUsers()}),p.vc(20,"Search"),p.Ob(),p.Ob(),p.Pb(21,"p",16),p.vc(22),p.tc(23,O,1,0,"ng-template",17),p.tc(24,x,1,0,"ng-template",18),p.Ob(),p.Ob(),p.tc(25,k,23,11,"div",19),p.Pb(26,"mat-paginator",20),p.Wb("page",function(e){return t.pageEvents(e)}),p.Ob(),p.Ob(),p.Ob()),2&e){const e=p.kc(16);p.zb(13),p.fc("ngModel",t.interest)("formControl",t.myControl)("matAutocomplete",e),p.zb(2),p.fc("displayWith",t.displayFn),p.zb(2),p.fc("ngForOf",p.cc(18,12,t.filteredOptions)),p.zb(4),p.fc("ngPlural",t.dataSource.meta.totalItems),p.zb(1),p.xc(" ",t.dataSource.meta.totalItems," "),p.zb(3),p.fc("ngForOf",t.dataSource.users),p.zb(1),p.fc("length",t.dataSource.meta.totalItems)("pageSize",t.dataSource.meta.itemsPerPage)("pageSizeOptions",p.hc(14,F))("showFirstLastButtons",!0)}},directives:[a.b,f.c,a.n,a.e,f.a,i.j,i.l,i.m,d.a,h.f,s.c,i.k,m.c,m.a],pipes:[i.b],styles:[".object-fit-cover[_ngcontent-%COMP%]{width:100%;height:80vh;object-fit:cover;opacity:.9}"]}),e})();const C=[{path:"",component:U}];let A=(()=>{class e{}return e.components=[U],e.\u0275mod=p.Ib({type:e}),e.\u0275inj=p.Hb({factory:function(t){return new(t||e)},imports:[[s.d.forChild(C)],s.d]}),e})();var L=n("Sihd");let M=(()=>{class e{}return e.\u0275mod=p.Ib({type:e}),e.\u0275inj=p.Hb({factory:function(t){return new(t||e)},imports:[[i.c,A,L.a]]}),e})()}}]);